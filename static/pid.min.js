/*! plant-challenge-libs 2016-03-30 */
var app=angular.module("pid",["ngFileUpload"]);app.controller("pid",["$scope","$http","Upload",function(a,b,c){a.$watch("file",function(){a.file&&null!==a.file&&a.upload(a.file)}),b.get("/classes").success(function(b){a.classes=b}),a.upload=function(b){a.results=null,a.error=null,a.loading=!0,c.upload({url:"/identify",data:{file:b}}).then(function(b){a.results=[],a.loading=!1,b.data.error?a.error=b.data.error:angular.forEach(b.data,function(b,c){a.results.push({"class":c,probability:b})})},function(b){a.loading=!1,a.error="Something went wrong."})}}]);